{"version":3,"sources":["webpack:///./src/components/model.js","webpack:///./src/components/train.js","webpack:///./src/components/layer.js","webpack:///./src/components/canvas.js","webpack:///./src/pages/mnistpred.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/assets/images/omega.png","webpack:///./src/components/menu.js","webpack:///./src/components/banner.js","webpack:///./src/components/footer.js","webpack:///./src/components/layout.js"],"names":["model_Model","Model","props","_React$Component","call","this","render","parseLayerElement","element","lname","tf_esm","conv2d","dense","flatten","maxPooling2d","Error","_compile","_this","_this$props","children","optimizer","loss","metrics","onCompile","layers","react_default","a","Children","toArray","model","map","child","add","compile","componentDidUpdate","prevProps","componentDidMount","Component","components_train","Train","_this2","state","allcharts","modelElement","trainer","dcolors","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","_this3","only","wrappedModelElement","cloneElement","_train","next","setState","draw_metrics","_this4","Object","keys","metric","ldata","createElement","key","className","es","data","display","metricElems","shouldComponentUpdate","nextProps","nextState","train","wrapAsyncGenerator_default","regenerator_default","mark","_callee","trainData","samples","validationData","epochs","batchSize","onBatchEnd","epoch","trainGenerator","batch","trainBatch","history","fitMetrics","valGenerator","valBatch","valMetrics","_history","i","wrap","_context","prev","_getBatch","awaitAsyncGenerator_default","fit","xs","ys","shape","sent","_pushMetrics","Infinity","evaluate","length","metricsNames","onTrainEnd","stop","generator","sample","value","push","x","y","stack","arr","_this5","updatedMetrics","assign","values","achart","labels","parseInt","datasets","label","layer_Layer","react","canvas_Canvas","Canvas","imgdigit","draw_digit","mnist","digit","ctx","refs","canvas","getContext","draw","ref","width","height","mnistTrainDataGenerator","mnistTestDataGenerator","mnist_default","set","mnistpred_train","training","mnistpred_test","test","_iterator","_isArray","_i","_ref","Array","isArray","Symbol","iterator","abrupt","done","input","reshape","output","_marked","_iterator2","_isArray2","_i2","_ref2","_context2","_marked2","mnistpred_MnistModel","sgd","inputShape","kernelSize","filters","strides","activation","kernelInitializer","poolSize","units","mnistpred_Mnist","Mnist","_React$Component2","trained","predicted","predict","testDigits","get","probTensor","predictedArr","dataSync","probArr","prddgt","imgpred","Math","round","layout","Helmet_default","name","content","onClick","__webpack_require__","r","__webpack_exports__","d","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","_wait_for_route_change__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_4__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_4___default","_parse_path__WEBPACK_IMPORTED_MODULE_5__","createContext","Consumer","staticQueryData","query","propTypes","object","string","isRequired","func","m","module","exports","default","ProdPageRenderer","location","pageResources","_loader__WEBPACK_IMPORTED_MODULE_4__","getResourcesForPathnameSync","pathname","react__WEBPACK_IMPORTED_MODULE_1___default","_page_renderer__WEBPACK_IMPORTED_MODULE_3__","json","prop_types__WEBPACK_IMPORTED_MODULE_2___default","p","menu_Menu","Menu","showmenu","open","count","scrolly","curscrolly","hidetimeout","window","addEventListener","handlescroll","componentWillUnmount","removeEventListener","clearTimeout","hidemenu","setTimeout","btnClicked","_this6","scrollY","_this7","gatsby_browser_entry","to","index_es","icon","free_solid_svg_icons_index_es","href","free_brands_svg_icons_index_es","banner","src","omega_default","alt","footer","layout_Layout","Layout"],"mappings":"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","file":"component---src-pages-mnistpred-js-f743f013c0791217473c.js","sourcesContent":["import React from 'react';\nimport * as tf from '@tensorflow/tfjs';\n\nexport default class Model extends React.Component {\n  \n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    return null;\n  }\n\n  parseLayerElement(element) {\n    //console.log(element.props.lname)\n    switch (element.props.lname) {\n    case \"Conv2D\":\n      return tf.layers.conv2d(element.props);\n    case \"Dense\":\n      return tf.layers.dense(element.props);\n    case \"Flatten\":\n      return tf.layers.flatten(element.props);\n    case \"MaxPooling2D\":\n      return tf.layers.maxPooling2d(element.props);\n    default:\n      throw new Error('Invalid Layer', element);\n    }\n  }\n  \n\n  _compile() {\n    const {\n      children,\n      optimizer,\n      loss,\n      metrics,\n      onCompile,\n    } = this.props;\n\n    const layers = React.Children.toArray(children);\n    //console.log( layers )\n\n    const model = tf.sequential();\n    layers.map(child => {\n      if(child) { \n        model.add(this.parseLayerElement(child))\n       }\n       else{ console.log(\"No fuking layer...\")}\n    })\n\n\n    model.compile({\n      optimizer,\n      loss,\n      metrics,\n    });\n\n    if (typeof onCompile === 'function') {\n      onCompile(model);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props != prevProps)\n      this._compile();\n  }\n\n  componentDidMount() {\n    this._compile();\n  }\n}\n\n","import React from 'react'\nimport * as tf from '@tensorflow/tfjs'\nimport { Bar, Line, Pie } from 'react-chartjs-2'\nimport '../assets/css/ml.css'\nimport PropTypes from 'prop-types'\n\nclass Train extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      metrics: {},\n      allcharts: {},\n      modelElement: null,\n    }\n\n    this.trainer = null\n    this.dcolors = {\n      backgroundColor: 'rgba(252, 145, 58,0.2)',\n      borderColor: 'rgba(252, 145, 58,1)',\n      borderWidth: 1,\n      hoverBackgroundColor: 'rgba(252, 145, 58,0.4)',\n      hoverBorderColor: 'rgba(252, 145, 58,1)',\n    }\n  }\n\n  // Initialize the child model and create trainer after model is compiled.\n  componentDidMount() {\n    const modelElement = React.Children.only(this.props.children)\n    const wrappedModelElement = React.cloneElement(modelElement, {\n      onCompile: model => {\n        this.trainer = this._train(model)\n        this.trainer.next()\n      },\n    })\n\n    this.setState({\n      modelElement: wrappedModelElement,\n    })\n  }\n\n  draw_metrics() {\n    const metricElems = Object.keys(this.state.metrics).map(metric => {\n      const values = this.state.metrics[metric]\n      const ldata = this.state.allcharts[metric]\n      return (\n        <div key={metric} className=\"d200\">\n          <Line data={ldata} />\n        </div>\n      )\n    })\n\n    return metricElems\n  }\n\n  render() {\n    if (!this.props.display) {\n      return this.state.modelElement\n    }\n\n    const metricElems = this.draw_metrics()\n\n    return (\n      <div>\n        <div className=\"chart  border-1 boxshadow\">{metricElems}</div>\n        {this.state.modelElement}\n      </div>\n    )\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return (\n      this.props.display != nextProps.display ||\n      this.props.train != nextProps.train ||\n      this.state.modelElement != nextState.modelElement ||\n      this.state.metrics != nextState.metrics\n    )\n  }\n\n  componentDidUpdate(prevProps) {\n    // Resume training if train state was changed to true\n    if (this.props.train && !prevProps.train && this.trainer != null) {\n      this.trainer.next()\n    }\n  }\n\n  async *_train(model) {\n    const {\n      trainData,\n      samples,\n      validationData,\n      epochs,\n      batchSize,\n      display,\n    } = this.props\n\n    // TODO: Switch to PropTypes\n    const onBatchEnd =\n      typeof this.props.onBatchEnd === 'function'\n        ? this.props.onBatchEnd\n        : () => {}\n    // maybe done !\n    //const onBatchEnd = this.props.onBatchEnd\n\n    for (let epoch = 0; epoch < epochs; epoch++) {\n      const trainGenerator = trainData()\n      for (let batch = 0; batch * batchSize < samples; batch++) {\n        // Pause training when train prop is false\n        const train = this.props.train\n        if (!train) {\n          yield\n        }\n\n        const trainBatch = this._getBatch(trainGenerator, batchSize)\n        const history = await model.fit(trainBatch.xs, trainBatch.ys, {\n          batchSize: trainBatch.xs.shape[0],\n          epochs: 1,\n        })\n        onBatchEnd(history.history, model)\n        tf.dispose(trainBatch)\n\n        if (display) {\n          const fitMetrics = history.history\n          this._pushMetrics(fitMetrics)\n          await tf.nextFrame()\n        }\n      }\n\n      if (validationData) {\n        const valGenerator = validationData()\n        // Just get all the validation data at once\n        const valBatch = this._getBatch(valGenerator, Infinity)\n        const valMetrics = model.evaluate(valBatch.xs, valBatch.ys, {\n          batchSize,\n        })\n        const history = {}\n\n        for (let i = 0; i < valMetrics.length; i++) {\n          const metric = model.metricsNames[i]\n          history[`validation-${metric}`] = await valMetrics[i].data()\n        }\n\n        this._pushMetrics(history)\n\n        tf.dispose(valMetrics)\n        tf.dispose(valBatch)\n      }\n    }\n\n    this.props.onTrainEnd(model)\n  }\n\n  _getBatch(generator, batchSize = 32) {\n    const xs = []\n    const ys = []\n\n    for (let i = 0; i < batchSize; i++) {\n      const sample = generator.next().value\n\n      if (sample == null) {\n        break\n      }\n\n      xs.push(sample.x)\n      ys.push(sample.y)\n    }\n\n    if (xs.length === 0) {\n      throw new Error(\n        'No data returned from data generator for batch, check sample length'\n      )\n    }\n\n    // Either stack if it's a generator of tensors, or convert to tensor if\n    // it's a generator of JS arrs\n    const stack = arr =>\n      arr[0] instanceof tf.Tensor ? tf.stack(arr) : tf.tensor(arr)\n\n    return {\n      xs: stack(xs),\n      ys: stack(ys),\n    }\n  }\n\n  _pushMetrics(metrics) {\n    const updatedMetrics = { ...this.state.metrics }\n    Object.keys(metrics).map(metric => {\n      if (updatedMetrics[metric] == null) {\n        updatedMetrics[metric] = []\n      }\n      updatedMetrics[metric].push(metrics[metric][0])\n      //const values = this.state.metrics[metric];\n      const values = updatedMetrics[metric]\n      const achart = {\n        labels: Object.keys(values).map(i => parseInt(i, 10)),\n        datasets: [\n          {\n            label: metric,\n            data: values,\n            ...this.dcolors,\n          },\n        ],\n      }\n\n      this.setState(state => {\n        state.allcharts[metric] = achart\n        return state\n      })\n    })\n    this.setState({\n      metrics: updatedMetrics,\n    })\n  }\n}\n\n// Train.propTypes = {\n//   onBatchEnd: React.PropTypes.func,\n// }\n\nexport default Train\n","import React, { Component } from 'react'\n\nexport default class Layer extends Component {\n\n    render() {\n        return null;\n      }\n    \n}\n","import React from 'react'\n//import mnist from 'mnist';\n\nexport default class Canvas extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return this.props.imgdigit != nextProps.imgdigit\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.imgdigit) {\n      this.draw_digit()\n    }\n  }\n\n  componentDidMount() {\n    this.draw_digit()\n  }\n\n  draw_digit() {\n    const mnist = this.props.mnist\n    const digit = this.props.imgdigit\n    const canvas = this.refs.canvas\n    const ctx = canvas.getContext('2d')\n    mnist.draw(digit, ctx)\n  }\n  render() {\n    return (\n      <div>\n        <canvas\n          ref=\"canvas\"\n          width={this.props.width}\n          height={this.props.height}\n        />\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Model from '../components/model'\nimport Train from '../components/train'\nimport Layer from '../components/layer'\nimport * as tf from '@tensorflow/tfjs'\nimport mnist from 'mnist'\nimport Canvas from '../components/canvas'\nimport Layout from '../components/layout'\nimport Helmet from 'react-helmet'\n\nimport '../assets/css/ml.css'\n\n//import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n//import { faPlay, faPause } from '@fortawesome/free-solid-svg-icons'\n//import { faGithub } from '@fortawesome/free-brands-svg-icons'\n\nconst data = mnist.set(1500, 100)\nconst train = data.training\nconst test = data.test\n\nfunction* mnistTrainDataGenerator() {\n  for (let sample of train) {\n    const square_sample = tf.tensor1d(sample.input).reshape([28, 28])\n    yield {\n      x: tf.tensor1d(sample.input).reshape([28, 28, 1]),\n      y: sample.output,\n    }\n  }\n}\n\nfunction* mnistTestDataGenerator() {\n  for (let sample of test) {\n    const square_sample = tf.tensor1d(sample.input).reshape([28, 28])\n    yield {\n      x: tf.tensor1d(sample.input).reshape([28, 28, 1]),\n      y: sample.output,\n    }\n  }\n}\n\nclass MnistModel extends React.Component {\n  render() {\n    return (\n      <Train\n        trainData={mnistTrainDataGenerator}\n        samples={1500}\n        validationData={mnistTestDataGenerator}\n        onBatchEnd={this.props.onBatchEnd}\n        epochs={5}\n        batchSize={64}\n        onTrainEnd={this.props.onTrainEnd}\n        train={this.props.train}\n        display\n      >\n        <Model\n          optimizer={tf.train.sgd(0.15)}\n          loss=\"categoricalCrossentropy\"\n          metrics={['accuracy']}\n        >\n          <Layer\n            lname=\"Conv2D\"\n            inputShape={[28, 28, 1]}\n            kernelSize={5}\n            filters={8}\n            strides={1}\n            activation=\"relu\"\n            kernelInitializer=\"VarianceScaling\"\n          />\n          <Layer lname=\"MaxPooling2D\" poolSize={[2, 2]} strides={[2, 2]} />\n          <Layer\n            lname=\"Conv2D\"\n            kernelSize={5}\n            filters={16}\n            strides={1}\n            activation=\"relu\"\n            kernelInitializer=\"VarianceScaling\"\n          />\n          <Layer lname=\"MaxPooling2D\" poolSize={[2, 2]} strides={[2, 2]} />\n          <Layer lname=\"Flatten\" />\n          <Layer\n            lname=\"Dense\"\n            units={10}\n            kernelInitializer=\"VarianceScaling\"\n            activation=\"softmax\"\n          />\n        </Model>\n      </Train>\n    )\n  }\n}\n\nexport default class Mnist extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n      model: null,\n      training: false,\n      trained: false,\n      predicted: null,\n    }\n  }\n\n  predict() {\n    const testDigits = [1, 3, 4, 5, 8, 9]\n    // Randomly selects a test digit, ideally this is drawn from the val\n    // set. But it's just random for now.\n    const test = tf.stack(\n      testDigits.map(digit => {\n        return tf.tensor1d(mnist[digit].get()).reshape([28, 28, 1])\n      })\n    )\n    const probTensor = this.state.model.predict(test)\n    //probTensor.print()\n    const predictedArr = tf.argMax(probTensor, 1).dataSync()\n    console.log(predictedArr)\n    const probArr = probTensor.dataSync()\n    this.setState({\n      predicted: testDigits.map((digit, i) => {\n        const imgdigit = mnist[digit].get()\n        const prddgt = predictedArr[i]\n        const imgpred = mnist[prddgt].get()\n        return (\n          <div key={i}>\n            <span className=\"bspant\"> Real </span>\n            <Canvas width={28} height={28} mnist={mnist} imgdigit={imgdigit} />\n            <Canvas width={28} height={28} mnist={mnist} imgdigit={imgpred} />\n            <span className={digit == prddgt ? 'bspang' : 'bspanr'}>\n              {'Pred: ' + Math.round(probArr[i * 10 + digit] * 100)}%{' '}\n            </span>\n          </div>\n        )\n      }),\n    })\n  }\n\n  render() {\n    return (\n      <Layout>\n        <Helmet>\n          <title>Mnist - Prediction </title>\n          <meta name=\"description\" content=\"Generic Page\" />\n        </Helmet>\n        <section className=\"container border-1 boxshadow\">\n          <header className=\"bheader\">\n            <h2> Mnist Convolutional Neural Network Prediction </h2>\n          </header>\n\n          <div className=\"blogcontent\">\n            <h2> Tensorflow Mnist Training and Predictions </h2>\n            <div className=\"btdiv\">\n              <button\n                className=\"border-1 special boxshadow\"\n                onClick={() =>\n                  this.setState({ training: !this.state.training })\n                }\n              >\n                {this.state.training ? ' Pause' : ' Train'}\n              </button>\n\n              {this.state.trained && (\n                <button\n                  className=\"border-1 special boxshadow\"\n                  onClick={() => this.predict()}\n                >\n                  Predict\n                </button>\n              )}\n            </div>\n\n            <div className=\"prob  border-1 boxshadow\">\n              {this.state.predicted}\n            </div>\n\n            <MnistModel\n              onTrainEnd={model => this.setState({ model })}\n              onBatchEnd={(metrics, model) =>\n                this.setState({ model, trained: true })\n              }\n              train={this.state.training}\n            />\n          </div>\n        </section>\n      </Layout>\n    )\n  }\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport { waitForRouteChange } from \"./wait-for-route-change\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  waitForRouteChange,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    key: location.pathname,\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","module.exports = __webpack_public_path__ + \"static/omega-af1c1859ddb4517d35947043794fe64d.png\";","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Link } from 'gatsby'\nimport '../assets/css/menu.css'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCoffee, faHome, faPen } from '@fortawesome/free-solid-svg-icons'\nimport { faGithub } from '@fortawesome/free-brands-svg-icons'\n\nexport default class Menu extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      showmenu: false,\n      open: false,\n      count: 0,\n    }\n    this.scrolly = 0\n    this.curscrolly = 0\n    this.hidetimeout = null\n  }\n\n  componentDidMount() {\n    window.addEventListener('scroll', () => this.handlescroll())\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', () => this.handlescroll())\n    clearTimeout(this.hidetimeout)\n  }\n\n  hidemenu() {\n    this.scrolly = this.curscrolly\n    this.hidetimeout = setTimeout(() => {\n      this.setState({\n        showmenu: false,\n        count: 0,\n        open: false,\n      })\n      console.log('in hide', JSON.stringify(this.state))\n    }, 100)\n  }\n\n  btnClicked() {\n    this.hidetimeout = setTimeout(() => {\n      this.setState({\n        open: !this.state.open,\n        count: this.state.count + 1,\n      })\n      console.log('in btn', JSON.stringify(this.state))\n      if (this.state.count > 1) {\n        this.hidemenu()\n      }\n    }, 100)\n  }\n\n  handlescroll() {\n    this.curscrolly = window.scrollY\n    if (this.scrolly !== this.curscrolly) {\n      this.hidetimeout = setTimeout(() => {\n        this.setState({\n          showmenu: true,\n        })\n        this.scrolly = this.curscrolly\n      }, 100)\n    }\n  }\n\n  render() {\n    // console.log(this.state.showmenu, this.scrolly)\n    return (\n      <nav className={`menu ${this.state.showmenu ? 'visible' : 'hidden'}`}>\n        <div\n          onClick={() => this.btnClicked()}\n          className={`menu-btn ${this.state.open ? 'menu-btn-open' : ' '}`}\n        >\n          <span\n            className={`lines ${this.state.open ? 'line-1-clicked' : 'line-1'}`}\n          />\n          <span\n            className={`lines ${this.state.open ? 'line-2-clicked' : 'line-2'}`}\n          />\n          <span\n            className={`lines ${this.state.open ? 'line-3-clicked' : 'line-3'}`}\n          />\n        </div>\n        <Link\n          onClick={() => this.hidemenu()}\n          className=\"alink menu-item blue\"\n          to=\"/mnistpred\"\n        >\n          <i className=\"icon\">\n            <FontAwesomeIcon icon={faCoffee} />\n          </i>\n        </Link>\n\n        <a\n          onClick={() => this.hidemenu()}\n          href=\"https://github.com/DanShai\"\n          className=\"alink menu-item green\"\n        >\n          <i className=\"icon\">\n            <FontAwesomeIcon icon={faGithub} />{' '}\n          </i>\n        </a>\n\n        <Link\n          onClick={() => this.hidemenu()}\n          className=\"alink menu-item red\"\n          to=\"/\"\n        >\n          <i className=\"icon\">\n            <FontAwesomeIcon icon={faHome} />\n          </i>\n        </Link>\n\n        <Link\n          onClick={() => this.hidemenu()}\n          className=\"alink menu-item purple\"\n          to=\"/blog\"\n        >\n          <i className=\"icon\">\n            <FontAwesomeIcon icon={faPen} />\n          </i>\n        </Link>\n      </nav>\n    )\n  }\n}\n","import React from 'react'\nimport '../assets/css/styles.css'\nimport omega from '../assets/images/omega.png'\nimport Menu from './menu'\n\nconst Banner = props => (\n  <section className=\"banner\">\n    <Menu />\n    <div className=\"banner-content\">\n      <img src={omega} className=\"logo\" alt=\"Dan Shai\" />\n      <div className=\"title\">Dan Shai</div>\n    </div>\n  </section>\n)\n\nexport default Banner\n","import React from 'react'\n\nconst Footer = props => (\n  <section className=\"footer center bg-dark\">\n    <p>\n      {' '}\n      <span> Dan shai &copy; 2018 </span>{' '}\n    </p>\n  </section>\n)\n\nexport default Footer\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport '../assets/css/styles.css'\nimport Banner from './banner'\nimport Footer from './footer'\n\nclass Layout extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    const { children } = this.props\n    return (\n      <div>\n        <Banner />\n        {children}\n        <Footer />\n      </div>\n    )\n  }\n}\n\nexport default Layout\n"],"sourceRoot":""}